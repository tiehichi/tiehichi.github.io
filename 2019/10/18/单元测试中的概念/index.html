<!DOCTYPE html>
<html>
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  
  <title>单元测试中的概念 - Tiehichi&#39;s Blog</title>
  <link rel="icon" href="https://imgur.com/pPCZVX8.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css?family=Bungee+Inline|Noto+Sans+SC|Ubuntu+Mono&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <meta name="keywords" content=>
  
  
  
    <link rel="alternate" href="/atom.xml " title="Tiehichi&#39;s Blog" type="application/atom+xml">
  

  <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <div class="container">
      <header class="header">
  <div class="blog-title">
    <a href="/" class="logo">Tiehichi&#39;s Blog</a>
    <div class="subtitle"></div>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link">Home</a>
        </li>
      
        <li class="menu-item">
          <a href="/categories" class="menu-item-link">Categories</a>
        </li>
      
        <li class="menu-item">
          <a href="/about" class="menu-item-link">About</a>
        </li>
      
        <li class="menu-item">
          <a href="/atom.xml" class="menu-item-link">RSS</a>
        </li>
      
    </ul>
  </nav>
</header>
<script>
  var link="";
  var a = document.getElementsByTagName('img');
  for(i=0;i<a.length;i++){
    a[i].referrerPolicy='no-referrer';
    link = a[i].src;
    a[i].src = link+'?t='+Math.random();
  }
</script>

<article class="post">
  <div class="post-title">
    <h1 class="article-title">单元测试中的概念</h1>
  </div>

  <!-- 文章目录 -->
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#TDD"><span class="toc-text">TDD</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#单元测试框架"><span class="toc-text">单元测试框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#测试用例（Test-Case"><span class="toc-text">测试用例（Test Case)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#夹具（Fixture）"><span class="toc-text">夹具（Fixture）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码生成器（Generator）"><span class="toc-text">代码生成器（Generator）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mock"><span class="toc-text">Mock</span></a></li></ol>

  <div class="post-content">
    <p>单元测试是针对代码中的最小模块进行单独测试的方法；一般对于面向过程语言来说，最小模块就是过程函数；而对于面向对象语言，一般是类的各种方法。</p>
<p>单元测试使得我们可以放心修改、重构业务代码，而不用担心修改某处代码后带来的副作用。</p>
<p>单元测试可以帮助我们反思模块划分的合理性，如果一个单元测试写得逻辑非常复杂、或者说一个函数复杂到无法写单测，那就说明模块的抽象有问题。</p>
<p>单元测试使得系统具备更好的可维护性、具备更好的可读性；对于团队的新人来说，阅读系统代码可以从单元测试入手，一点点开始后熟悉系统的逻辑。</p>
<h2 id="TDD"><a href="#TDD" class="headerlink" title="TDD"></a>TDD</h2><p>测试驱动开发，是指针对一个项目，在设计好接口的情况下，先针对功能模块编写测试程序，在编写实际代码。这种开发方式能够极大程度的减少代码中单个功能模块的错误发生率。</p>
<h2 id="单元测试框架"><a href="#单元测试框架" class="headerlink" title="单元测试框架"></a>单元测试框架</h2><p>编写单元测试代码的过程中会有很多冗余的工作，例如格式化输出，初始化环境等等；而单元测试框架就是用来解决这些问题的。一般单元测试框架会提供例如格式化输出、结果验证宏等功能，有些框架也会提供模拟对象、代码生成器等高级功能。</p>
<h2 id="测试用例（Test-Case"><a href="#测试用例（Test-Case" class="headerlink" title="测试用例（Test Case)"></a>测试用例（Test Case)</h2><p>测试代码中针对某一模块进行测试的部分，一般针对某一模块的测试用例放在一起。</p>
<h2 id="夹具（Fixture）"><a href="#夹具（Fixture）" class="headerlink" title="夹具（Fixture）"></a>夹具（Fixture）</h2><p>单元测试框架中的夹具实际上就是减少编写单元测试过程中的冗余代码，让编写单元测试的过程尽量集中在测试用例上。</p>
<p>有些单元测试框架也会提供夹具组，其实就是把多个包含测试用例的夹具放到一起，进一步减少冗余的代码。</p>
<h2 id="代码生成器（Generator）"><a href="#代码生成器（Generator）" class="headerlink" title="代码生成器（Generator）"></a>代码生成器（Generator）</h2><p>前面提到的TDD开发模式中，是先编写测试代码再去编写模块代码的，对于某些语言例如C，编译测试代码的时候需要模块代码参与编译，这种时候就需要代码生成器来去生成空的模块参与编译。</p>
<h2 id="Mock"><a href="#Mock" class="headerlink" title="Mock"></a>Mock</h2><p>在一些面向对象语言中，当某个模块的方法依赖于另一个模块的时候，为了保证单元测试的隔离，不能直接使用另一个模块作为参数，此时就需要对这个模块进行mock，实际上就是构造一个虚拟的模块作为参数去测试其他模块功能；对于面向过程语言来说，需要被mock的模块可能是函数或者结构体对象。</p>

  </div>
  <div class="post-meta">
    <span class="post-time" style="color:#646060;font-size:13px">2019-10-18</span>
  </div>

  <div class="post-footer">
    

    <a href="#top" class="top">Back to Top</a>
  </div>
</article>

<!-- 评论插件 -->

    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <script>
    var gitalk = new Gitalk({
        id: '单元测试中的概念',
        owner: 'tiehichi',
        admin: ['tiehichi'],
        repo: 'tiehichi.github.io',
        clientID: 'bf2f550864240e94ca3f',
        clientSecret: 'a03922278132bc805aa4a44d72e5250166095dbe',
    })
    gitalk.render('gitalk-container')
    </script>


<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "8076240da6a9474eb806a2772561d84a"}'></script><!-- End Cloudflare Web Analytics -->
<footer>
  2022
  <span class="author">
    Tiehichi
  </span>
</footer>


    </div>
  </body>
</html>